general {
    lock_cmd = $HOME/.local/bin/lock
    before_sleep_cmd = $HOME/.local/bin/lock
    after_sleep_cmd = hyprctl dispatch dpms on
    inhibit_sleep = 1
}

# lock after 5 minutes idle
listener {
    timeout = 300
    on-timeout = $HOME/.local/bin/lock
}

# screen off after 5.5 minutes idle
listener {
    timeout = 330
    on-timeout = hyprctl dispatch dpms off
    on-resume  = hyprctl dispatch dpms on
}

# optional: suspend after 30 minutes idle
listener {
    timeout = 1800
    on-timeout = systemctl suspend
}

# sleep
general {
  before_sleep_cmd = $HOME/.local/bin/lock
  lock_cmd         = $HOME/.local/bin/lock
  inhibit_sleep    = 1
}
